'use strict';

/** @type {import('sequelize-cli').Migration} */
module.exports = {
  async up (queryInterface, Sequelize) {
      await queryInterface.sequelize.query(`
        CREATE TYPE public.enum_template_four_type AS ENUM
        ('banner', 'jewelry_section', 'perfect_jewelry', 'category', 'new_collection', 'latest_collection', 'antique', 'ancient', 'journal');

        ALTER TYPE public.enum_template_four_type
        OWNER TO postgres;
      `)

      await queryInterface.sequelize.query(`
        CREATE TABLE IF NOT EXISTS public.template_four
        (
            id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
            title character varying COLLATE pg_catalog."default",
            sub_title character varying COLLATE pg_catalog."default",
            sub_title_one character varying COLLATE pg_catalog."default",
            description character varying COLLATE pg_catalog."default",
            sub_description character varying COLLATE pg_catalog."default",
            button_name character varying COLLATE pg_catalog."default",
            button_color character varying COLLATE pg_catalog."default",
            link character varying COLLATE pg_catalog."default",
            button_text_color character varying COLLATE pg_catalog."default",
            id_bg_image integer,
            id_title_image integer,
            id_categories integer,
            id_products character varying COLLATE pg_catalog."default",
            sort_order double precision,
            is_button_transparent bit(1),
            button_hover_color character varying COLLATE pg_catalog."default",
            button_text_hover_color character varying COLLATE pg_catalog."default",
            is_active bit(1) NOT NULL DEFAULT '1'::"bit",
            is_deleted bit(1) NOT NULL DEFAULT '0'::"bit",
            created_date timestamp with time zone NOT NULL,
            created_by integer,
            modified_date timestamp with time zone,
            modified_by integer,
            section_type enum_template_four_type,
            company_info_id integer,
            product_ids json,
            bg_color character varying COLLATE pg_catalog."default",
            title_color character varying COLLATE pg_catalog."default",
            sub_title_color character varying COLLATE pg_catalog."default",
            description_color character varying COLLATE pg_catalog."default",
            sub_description_color character varying COLLATE pg_catalog."default",
            CONSTRAINT template_four_pkey PRIMARY KEY (id)
        )

        TABLESPACE pg_default;

        ALTER TABLE IF EXISTS public.template_four
            OWNER to postgres;
      `)

    await queryInterface.sequelize.query(`ALTER TYPE log_type ADD VALUE 'template_four_banner';`)
    await queryInterface.sequelize.query(`ALTER TYPE log_type ADD VALUE 'template_four_jewelry_section';`)
    await queryInterface.sequelize.query(`ALTER TYPE log_type ADD VALUE 'template_four_perfect_jewelry';`)
    await queryInterface.sequelize.query(`ALTER TYPE log_type ADD VALUE 'template_four_category';`)
    await queryInterface.sequelize.query(`ALTER TYPE log_type ADD VALUE 'template_four_new_collection';`)
    await queryInterface.sequelize.query(`ALTER TYPE log_type ADD VALUE 'template_four_latest_collection';`)
    await queryInterface.sequelize.query(`ALTER TYPE log_type ADD VALUE 'template_four_antique';`)
    await queryInterface.sequelize.query(`ALTER TYPE log_type ADD VALUE 'template_four_ancient';`)
    await queryInterface.sequelize.query(`ALTER TYPE log_type ADD VALUE 'template_four_journal';`)
  },

  async down (queryInterface, Sequelize) {
    await queryInterface.sequelize.query(`DROP TABLE IF EXISTS public.template_four;`)
    await queryInterface.sequelize.query(`DROP TYPE IF EXISTS public.enum_template_four_type;`)
  }
};

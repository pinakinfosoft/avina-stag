'use strict';

/** @type {import('sequelize-cli').Migration} */
module.exports = {
  async up (queryInterface, Sequelize) {
    const tables = [
'about_us',
'actions',
'activity_logs',
'addresses',
'app_users',
'auth_group',
'auth_group_permissions',
'auth_permission',
'auth_user',
'auth_user_groups',
'auth_user_user_permissions',
'banners',
'birthstone_product_categories',
'birthstone_product_diamond_options',
'birthstone_product_engravings',
'birthstone_product_metal_options',
'birthstone_products',
'blog_categories',
'blogs',
'brands',
'business_users',
'carat_sizes',
'categories',
'cities',
'clarities',
'collections',
'colors',
'company_infoes',
'config_bracelet_product_diamonds',
'config_bracelet_product_metals',
'config_bracelet_products',
'config_eternity_product_diamonds',
'config_eternity_product_metals',
'config_eternity_products',
'config_product_diamonds',
'config_product_metals',
'config_products',
'config_test_products',
'configurator_setting',
'configurator_setting_file',
'contries',
'coupons',
'currency_rates',
'customer_users',
'cuts',
'diamond_group_masters',
'diamond_seive_sizes',
'diamond_shapes',
'email_templates',
'enquiries',
'exception_logs',
'faq_que_ans',
'filters',
'font_style_files',
'gemstones',
'gift_product_order_transactions',
'gift_set_product_images',
'gift_set_product_invoices',
'gift_set_product_orders',
'gift_set_products',
'gold_kts',
'heads',
'home_about_mains',
'home_subs',
'hook_types',
'images',
'info_sections',
'invoices',
'items_lengths',
'items_sizes',
'loose_diamond_group_masters',
'masters',
'mega_menu_attributes',
'mega_menus',
'menu_items',
'metadata_details',
'metal_group_masters',
'metal_masters',
'metal_tones',
'mm_sizes',
'module_items',
'modules',
'order_details',
'order_transactions',
'orders',
'our_stories',
'pages',
'product_attribute_values',
'product_bulk_upload_files',
'product_categories',
'product_diamond_options',
'product_enquiries',
'product_images',
'product_metal_options',
'product_price_histories',
'product_promotions',
'product_reviews',
'product_search_histories',
'product_videos',
'products',
'role_api_permissions',
'role_permission_access_audit_logs',
'role_permission_accesses',
'role_permissions',
'roles',
'setting_carat_weights',
'setting_styles',
'shanks',
'shipping_charges',
'side_setting_styles',
'states',
'static_pages',
'stock_change_logs',
'store_address',
'subscriptions',
'system_configurations',
'tags',
'tax_masters',
'template_banners',
'template_five',
'template_seven',
'template_six',
'template_three',
'testimonials',
'theme_attribute_customers',
'theme_attributes',
'themes',
'web_config_setting',
'wishlist_products']; // add all your table names

    for (const table of tables) {
      await queryInterface.sequelize.query(`
        SELECT setval(
          pg_get_serial_sequence('${table}', 'id'),
          COALESCE((SELECT MAX(id) FROM "${table}"), 0) + 1
        );
      `);
    }



    const tablesList = ['3D_configurator_logs'];

for (const table of tablesList) {
  await queryInterface.sequelize.query(`
    SELECT setval(
      pg_get_serial_sequence('"${table}"', 'id'),
      COALESCE((SELECT MAX(id) FROM "${table}"), 0) + 1
    );
  `);
}

  },

  async down (queryInterface, Sequelize) {
    const tables = [
      'about_us',
      'actions',
      'activity_logs',
      'addresses',
      'app_users',
      'auth_group',
      'auth_group_permissions',
      'auth_permission',
      'auth_user',
      'auth_user_groups',
      'auth_user_user_permissions',
      'banners',
      'birthstone_product_categories',
      'birthstone_product_diamond_options',
      'birthstone_product_engravings',
      'birthstone_product_metal_options',
      'birthstone_products',
      'blog_categories',
      'blogs',
      'brands',
      'business_users',
      'carat_sizes',
      'categories',
      'cities',
      'clarities',
      'collections',
      'colors',
      'company_infoes',
      'config_bracelet_product_diamonds',
      'config_bracelet_product_metals',
      'config_bracelet_products',
      'config_eternity_product_diamonds',
      'config_eternity_product_metals',
      'config_eternity_products',
      'config_product_diamonds',
      'config_product_metals',
      'config_products',
      'config_test_products',
      'configurator_setting',
      'configurator_setting_file',
      'contries',
      'coupons',
      'currency_rates',
      'customer_users',
      'cuts',
      'diamond_group_masters',
      'diamond_seive_sizes',
      'diamond_shapes',
      'email_templates',
      'enquiries',
      'exception_logs',
      'faq_que_ans',
      'filters',
      'font_style_files',
      'gemstones',
      'gift_product_order_transactions',
      'gift_set_product_images',
      'gift_set_product_invoices',
      'gift_set_product_orders',
      'gift_set_products',
      'gold_kts',
      'heads',
      'home_about_mains',
      'home_subs',
      'hook_types',
      'images',
      'info_sections',
      'invoices',
      'items_lengths',
      'items_sizes',
      'loose_diamond_group_masters',
      'masters',
      'mega_menu_attributes',
      'mega_menus',
      'menu_items',
      'metadata_details',
      'metal_group_masters',
      'metal_masters',
      'metal_tones',
      'mm_sizes',
      'module_items',
      'modules',
      'order_details',
      'order_transactions',
      'orders',
      'our_stories',
      'pages',
      'product_attribute_values',
      'product_bulk_upload_files',
      'product_categories',
      'product_diamond_options',
      'product_enquiries',
      'product_images',
      'product_metal_options',
      'product_price_histories',
      'product_promotions',
      'product_reviews',
      'product_search_histories',
      'product_videos',
      'products',
      'role_api_permissions',
      'role_permission_access_audit_logs',
      'role_permission_accesses',
      'role_permissions',
      'roles',
      'setting_carat_weights',
      'setting_styles',
      'shanks',
      'shipping_charges',
      'side_setting_styles',
      'states',
      'static_pages',
      'stock_change_logs',
      'store_address',
      'subscriptions',
      'system_configurations',
      'tags',
      'tax_masters',
      'template_banners',
      'template_five',
      'template_seven',
      'template_six',
      'template_three',
      'testimonials',
      'theme_attribute_customers',
      'theme_attributes',
      'themes',
      'web_config_setting',
      'wishlist_products']; // add all your table names
    // Add commands to revert seed here, if necessary
    for (const table of tables) {
      await queryInterface.sequelize.query(`
        SELECT setval(
          pg_get_serial_sequence('${table}', 'id'),
          1
        );
      `);
    }

    const tablesList = ['3D_configurator_logs'];     
     // Add commands to revert seed here, if necessary
     for (const table of tablesList) {
      await queryInterface.sequelize.query(`
        SELECT setval(
          pg_get_serial_sequence('"${table}"', 'id'),
          1
        );
      `);
    }
  }
};
